<!DOCTYPE html>
<html>
    <head>
        <title>PlayList Gen</title>
    
        <link rel="stylesheet" type="text/css" href="main.css" media="”screen”" />
    </head>

    <body>
        <button type="button" onclick="document.location='CalcBP.html'">
            Back
        </button>
        <h1>Step 1: Your Estimated Heartbeat</h1>
        <p>Note: This value must be a whole number, at least two digits, no more than three.</p>

        Still can't figure out how to measure your pulse? Or don't have time? <br>
        No problem.  <br><br> From the drop down, select your estimated state. <br> <br>

        Heart Rate Categories: <br> <br>
        Low --> You are relaxed, in a resting state, maybe doing a calming activity<br>
        Normal--> You are doing normal activity feeling average <br>
        High --> You are stressed, maybe upset, exercising perhaps <br>
        <p>


        <script type="text/javascript">
            //https://stackoverflow.com/questions/51428556/how-can-i-disable-an-html-button-until-another-button-is-clicked#:~:text=You%20can%20just%20add%20%22disabled,them%20all%20in%20one%20place.
            function btnFunction() {
                document.getElementById("HR").readOnly = true;
            }
          
            const btn = document.getElementById("btnNext") as HTMLButtonElement | null;

            function revFunction() {
                var hbpCat = document.getElementById("HR").value;
                if (hbpCat === "Low" || hbpCat === "Normal" || hbpCat === "High") {
                    document.getElementById("btn").disabled = false;
                }
                else {
                    //do nothing
                }
            }
          
            function relFunction() {
                location.reload();
            }

            function myfunc() {
                    var input = document.getElementById('HR');
                    var hbp = document.getElementById('HR').value;
                    if(hbp != "") {
                    alert("You Entered: " + input.value + ". Is this Correct? If not, Reset and try again.");
                    }
                }
            document.write(input);


            function check() { //https://stackoverflow.com/questions/66946834/show-error-alert-if-value-is-outside-range-on-button-press

                var hbp = document.getElementById('HR').value;
                if (hbp === "") {
                    alert("Invalid Entry.  Please Enter a valid heart beat from the list.")
                    alert("Please press Reset.")
                } else {
                //do nothing
                } 
            }

            function submitResetIfNeeded() {
                var hbp = document.getElementById('HR').value;
                if (hbp === "") {
                    Submit.setAttribute("disabled", true);
                }
            }


            


        </script>
        


        <form for="HeartRate"> <label for="HeartRate">Choose the best description of your HeartRate:</label>
            <select name="HR" id="HR" value = ""> <option></option>
                <option value="low">Low</option>
                <option value="normal">Normal</option>
                <option value="high">High</option>
            </select>
    
            <input type="submit" value= "Submit" id = "Submit" onclick="btnFunction();revFunction(); myfunc(); check(); submitResetIfNeeded()"> 
        </form>

        </p>

        <button id = "btnNext" type="button" onclick="document.location='Mood.html'" disabled>
            Next
        </button>
        <button id = "relbtn" type="button" onclick="relFunction()">Reset
        </button>
    </body>
</html>